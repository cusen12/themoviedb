(this.webpackJsonpthemoviedb=this.webpackJsonpthemoviedb||[]).push([[5],{200:function(e,t,n){},225:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),r=n(5),i=n(4),s=n(35),o=n(161),d=n(182),u=n(162),l=n(226),j=n(1),b=n(13),h=n(82),p=n(80),f=n.n(p),x=n(83),O=n(201),m=n.n(O),v=n(202),y=n.n(v),w=n(26),g=(n(200),n(0));t.default=function(){var e=Object(b.b)(),t=Object(j.useState)(!1),n=Object(i.a)(t,2),c=n[0],p=n[1],O=Object(b.c)((function(e){return e.login.value})),v=Object(j.useState)(!0),k=Object(i.a)(v,2),_=k[0],C=k[1],S=O?O.request_token:"",T=Object(j.useState)(""),L=Object(i.a)(T,2),W=L[0],z=L[1],I=Object(j.useState)(!0),P=Object(i.a)(I,2),V=P[0],q=P[1],E=Object(j.useState)(),J=Object(i.a)(E,2),N=J[0],M=J[1],R=function(){var e=Object(r.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/authentication/token/new?api_key=cd58c7bd131cba3c391d62c5fda2ae53");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.request_token);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(j.useEffect)((function(){!0===c&&function(){var t=Object(r.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={request_token:S},fetch("https://api.themoviedb.org/3/authentication/session/new?api_key=cd58c7bd131cba3c391d62c5fda2ae53",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){e(Object(x.b)(t))})).catch((function(e){console.log("Error:",e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c,S,e]);var F=function(){var t=Object(r.a)(a.a.mark((function t(n){var c,r,i,s;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=n.target.username.value,r=n.target.password.value,t.next=5,R();case 5:i=t.sent,s={username:c,password:r,request_token:i},"https://api.themoviedb.org/3/authentication/token/validate_with_login?api_key=cd58c7bd131cba3c391d62c5fda2ae53",fetch("https://api.themoviedb.org/3/authentication/token/validate_with_login?api_key=cd58c7bd131cba3c391d62c5fda2ae53",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then((function(e){return e.json()})).then((function(t){e(Object(h.b)(t)),!1===t.success?z("Sai t\xean \u0111\u0103ng nh\u1eadp or m\u1eadt kh\u1ea9u"):(z(""),p(!0))})).catch((function(e){console.log("Error:",e)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(r.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(h.c)()),t.next=3,p(!1);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q(!V);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=Object(b.c)((function(e){return e.section.value})),B=A.success,G=A.session_id;return Object(j.useEffect)((function(){!0===B?function(){var e=Object(r.a)(a.a.mark((function e(){var t,n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.themoviedb.org/3/account?api_key=cd58c7bd131cba3c391d62c5fda2ae53&session_id=".concat(G),e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,M(c);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():console.log("ch\u01b0a \u0111\u0103ng nh\u1eadp")}),[G,B]),Object(g.jsx)(s.a,{container:!0,item:!0,className:"login",md:12,children:void 0!==O?Object(g.jsx)(s.a,{item:!0,md:12,children:!0===O.success?Object(g.jsxs)(s.a,{container:!0,alignItems:"center",justify:"flex-end",children:[void 0!==N?Object(g.jsx)(s.a,{children:null!==N.avatar.tmdb.avatar_path?Object(g.jsx)("img",{style:{borderRadius:"50%",width:"35px"},onClick:D,src:"https://www.themoviedb.org/t/p/w50_and_h50_face/".concat(N.avatar.tmdb.avatar_path),alt:""}):Object(g.jsx)(f.a,{onClick:D,color:"primary",style:{fontSize:"30px"}})}):Object(g.jsx)(f.a,{onClick:D,color:"primary",style:{fontSize:"30px"}}),Object(g.jsxs)(o.a,{style:{width:"200px",padding:"10px",position:"absolute",top:"60px",zIndex:"10"},hidden:V,elevation:0,children:[Object(g.jsx)(d.a,{variant:"h4",children:void 0!==N?N.name:""}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/profile",onClick:function(){return q(!0)},children:"View Page"})}),Object(g.jsx)("hr",{style:{display:"block",width:"100%",margin:"5px 0"}}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/watchmovie",onClick:function(){return q(!0)},children:"Watch List Movie"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/watchtv",onClick:function(){return q(!0)},children:"Watch List TV"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/ratemovie",onClick:function(){return q(!0)},children:"Rated List Movie"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/ratetv",onClick:function(){return q(!0)},children:"Rated List TV"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/favoritemovie",onClick:function(){return q(!0)},children:"Favorite List Movie"})}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/favoriteTV",onClick:function(){return q(!0)},children:"Favorite List TV"})}),Object(g.jsx)("hr",{style:{display:"block",width:"100%",margin:"5px 0"}}),Object(g.jsx)(d.a,{children:Object(g.jsx)(w.b,{to:"/commingsoon",onClick:function(){return q(!0)},children:"Create list"})}),Object(g.jsx)("hr",{style:{display:"block",width:"100%",margin:"5px 0"}}),Object(g.jsx)(u.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:U,startIcon:Object(g.jsx)(m.a,{color:"primary",style:{fontSize:"16"}}),children:Object(g.jsx)(d.a,{color:"secondary",children:"Logout"})})]})]}):Object(g.jsxs)(s.a,{children:[Object(g.jsx)(d.a,{variant:"h5",onClick:function(){return C(!_)},children:"\u0110\u0103ng nh\u1eadp"}),Object(g.jsxs)("form",{onSubmit:F,hidden:_,style:{padding:"10px"},children:[Object(g.jsx)(l.a,{fullWidth:!0,id:"username",name:"username",label:"Username"}),Object(g.jsx)(l.a,{fullWidth:!0,type:"password",id:"password",name:"password",label:"Password"}),Object(g.jsx)("p",{children:Object(g.jsx)("i",{style:{fontSize:"11px",color:"red"},children:W})}),Object(g.jsxs)(s.a,{container:!0,style:{padding:"5px 0"},alignItems:"center",justify:"space-between",children:[Object(g.jsx)(s.a,{item:!0,children:Object(g.jsx)(d.a,{variant:"h5",children:Object(g.jsx)("a",{href:"https://www.themoviedb.org/signup",target:"_blank",rel:"noopener noreferrer",children:"\u0110\u0103ng k\xfd"})})}),Object(g.jsx)(s.a,{item:!0,children:Object(g.jsx)(u.a,{type:"submit",variant:"contained",color:"secondary",children:Object(g.jsx)(y.a,{})})})]})]})]})}):Object(g.jsxs)(s.a,{children:[Object(g.jsx)(d.a,{variant:"h5",onClick:function(){return C(!_)},children:"\u0110\u0103ng nh\u1eadp"}),Object(g.jsxs)("form",{onSubmit:F,hidden:_,className:"loginform",children:[Object(g.jsx)(l.a,{fullWidth:!0,id:"username",name:"username",label:"Username"}),Object(g.jsx)(l.a,{fullWidth:!0,type:"password",id:"password",name:"password",label:"Password"}),Object(g.jsx)("p",{children:Object(g.jsx)("i",{style:{fontSize:"11px",color:"red"},children:W})}),Object(g.jsx)(s.a,{container:!0,style:{padding:"5px 0"},alignItems:"center",justify:"flex-end",children:Object(g.jsx)(u.a,{type:"submit",variant:"contained",color:"secondary",children:Object(g.jsx)(y.a,{})})})]})]})})}}}]);
//# sourceMappingURL=5.1cb0104d.chunk.js.map