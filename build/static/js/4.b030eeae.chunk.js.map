{"version":3,"sources":["../node_modules/@material-ui/icons/AccountCircleRounded.js","../node_modules/@material-ui/icons/ExitToApp.js","../node_modules/@material-ui/icons/ArrowForwardRounded.js","Component/Login/Login.jsx"],"names":["_interopRequireDefault","require","_interopRequireWildcard","Object","defineProperty","exports","value","default","React","_default","createElement","d","Login","dispatch","useDispatch","useState","bool","setBool","loginData","useSelector","state","login","isLogin","setIsLogin","requestToken","request_token","checkLogin","setCheckLogin","popup","setPopup","createRequesToken","a","fetch","request","json","requesJson","useEffect","dataToken","method","headers","body","JSON","stringify","then","response","data","section","catch","error","console","log","createSection","handleSubmitLogin","e","preventDefault","userName","target","username","password","token","success","handleLogout","logout","handleDetailsUser","container","item","className","md","undefined","alignItems","justify","color","onClick","style","fontSize","padding","position","top","left","zIndex","hidden","elevation","to","display","width","startIcon","variant","onSubmit","fullWidth","id","name","label","type"],"mappings":"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","file":"static/js/4.b030eeae.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z\"\n}), 'AccountCircleRounded');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M10.09 15.59L11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'ExitToApp');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M5 13h11.17l-4.88 4.88c-.39.39-.39 1.03 0 1.42.39.39 1.02.39 1.41 0l6.59-6.59c.39-.39.39-1.02 0-1.41l-6.58-6.6a.9959.9959 0 00-1.41 0c-.39.39-.39 1.02 0 1.41L16.17 11H5c-.55 0-1 .45-1 1s.45 1 1 1z\"\n}), 'ArrowForwardRounded');\n\nexports.default = _default;","import { Button, Grid, Paper, TextField, Typography } from '@material-ui/core';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { login,logout } from './loginSlice';\r\nimport AccountCircleRoundedIcon from '@material-ui/icons/AccountCircleRounded';\r\nimport { section } from '../Section/SectionSlice'; \r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\r\nimport ArrowForwardRoundedIcon from '@material-ui/icons/ArrowForwardRounded';  \r\nimport { Link } from \"react-router-dom\";\r\nimport './login.scss'\r\n\r\nfunction Login() {   \r\n    const dispatch = useDispatch();\r\n    const [bool,setBool] =useState(false)\r\n    const loginData = useSelector(state=>state.login.value);\r\n    const [isLogin, setIsLogin] = useState(true)\r\n    const requestToken = loginData ? loginData.request_token : \"\";\r\n    const [checkLogin, setCheckLogin] = useState(\"\")\r\n    const [popup ,setPopup] = useState(true)\r\n    const createRequesToken = async ()=>{\r\n        const request = await fetch(\"https://api.themoviedb.org/3/authentication/token/new?api_key=cd58c7bd131cba3c391d62c5fda2ae53\");\r\n        const requesJson = await request.json(); \r\n        return requesJson.request_token\r\n\r\n    }\r\n    const style={\r\n        padding:\"10px\",\r\n        position:\"absolute\",\r\n        top:\"60px\",\r\n        left:\"80px\",\r\n        zIndex:\"10\" \r\n    }\r\n    useEffect(() =>{\r\n        if(bool === true){\r\n            const createSection = async ()=>{  \r\n                const dataToken = {\r\n                    \"request_token\": requestToken\r\n                  } \r\n                fetch(\"https://api.themoviedb.org/3/authentication/session/new?api_key=cd58c7bd131cba3c391d62c5fda2ae53\", {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify(dataToken),\r\n                })\r\n                .then(response => response.json())\r\n                .then(data => {   \r\n                   dispatch(section(data))\r\n                })\r\n                .catch((error) => {\r\n                    console.log('Error:', error); \r\n                }); \r\n            } \r\n            createSection()\r\n        }\r\n    },[bool,requestToken,dispatch])\r\n    \r\n    const handleSubmitLogin = async (e)=>{\r\n        e.preventDefault();\r\n        const userName = e.target.username.value;\r\n        const password = e.target.password.value;\r\n        const token = await createRequesToken(); \r\n        const data = {\r\n            \"username\": userName,\r\n            \"password\": password,\r\n            \"request_token\": token\r\n        } \r\n        const link = \"https://api.themoviedb.org/3/authentication/token/validate_with_login?api_key=cd58c7bd131cba3c391d62c5fda2ae53\"\r\n        fetch(link, {\r\n            method: 'POST', // or 'PUT'\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n            },\r\n            body: JSON.stringify(data),\r\n        })\r\n        .then(response => response.json())\r\n        .then(data => { \r\n            dispatch(login(data))\r\n            if(data.success === false){\r\n                setCheckLogin(\"Sai tên đăng nhập or mật khẩu\"); \r\n            }\r\n            else{\r\n                setCheckLogin(\"\");\r\n                setBool(true) \r\n            }\r\n        })\r\n        .catch((error) => {\r\n            console.log('Error:', error); \r\n        });\r\n    }\r\n    const handleLogout = async () =>{\r\n        dispatch(logout())  \r\n        await setBool(false) \r\n        console.log(\"logout\")\r\n    }\r\n    const handleDetailsUser = async () =>{\r\n        setPopup(!popup); \r\n    } \r\n    \r\n    return (\r\n        <Grid container item className=\"login\" md={12}>\r\n            {loginData !== undefined ? \r\n                <Grid item md={12}>\r\n                    {\r\n                       loginData.success===true ? \r\n                       <Grid container  \r\n                       alignItems=\"center\"\r\n                       justify=\"flex-start\">   \r\n                           <Typography color=\"secondary\">Hello !!! </Typography>  <Button> <AccountCircleRoundedIcon onClick={handleDetailsUser} color=\"primary\" style={{fontSize:\"30px\"}}/> </Button>\r\n                             \r\n                            <Paper style={style} hidden={popup} elevation={0}>  \r\n                                <Typography>Sen</Typography>\r\n                                <Typography><Link to=\"/commingsoon\">View Profile</Link></Typography> \r\n                                <hr style={{display:\"block\",width:\"100%\"}}/>  \r\n                                <Typography><Link to=\"/commingsoon\">Watchlist</Link></Typography>   \r\n                                <Typography><Link to=\"/commingsoon\">Rated List</Link></Typography> \r\n                                <Typography><Link to=\"/commingsoon\">Favorite List</Link></Typography>  \r\n                                <hr style={{display:\"block\",width:\"100%\"}}/>     \r\n                                <Typography><Link to=\"/commingsoon\">Create list</Link></Typography>\r\n                                <hr style={{display:\"block\",width:\"100%\"}}/> \r\n                                <Button onClick={handleLogout} startIcon={<ExitToAppIcon color=\"primary\" style={{fontSize:\"18\"}} />}>Logout </Button> \r\n                            </Paper>\r\n                       \r\n                       </Grid>\r\n                       :\r\n                        <Grid>\r\n                        <Typography variant=\"h5\" onClick={() => setIsLogin(!isLogin)}>Đăng nhập</Typography>\r\n                       \r\n                        <form onSubmit={handleSubmitLogin} hidden={isLogin} >\r\n                            <TextField fullWidth id=\"username\" name=\"username\" label=\"Username\" />\r\n                            <TextField fullWidth type=\"password\" id=\"password\" name=\"password\" label=\"Password\" />\r\n                            <p><i style={{fontSize:\"11px\",color:\"red\"}}>{checkLogin}</i></p>\r\n                            \r\n                            <Grid container style={{padding:\"5px 0\"}}  \r\n                        alignItems=\"center\"\r\n                        justify=\"flex-end\">   \r\n                                <Button type=\"submit\" variant=\"contained\" color=\"secondary\"><ArrowForwardRoundedIcon/></Button>\r\n                            </Grid> \r\n                        </form> \r\n                    </Grid>\r\n                    }\r\n                     \r\n                     \r\n                </Grid>    \r\n                : \r\n                <Grid>\r\n                <Typography variant=\"h5\" onClick={() => setIsLogin(!isLogin)}>Đăng nhập</Typography>\r\n                <form onSubmit={handleSubmitLogin} hidden={isLogin} className=\"loginform\" >\r\n                    <TextField fullWidth id=\"username\" name=\"username\" label=\"Username\" />\r\n                    <TextField fullWidth type=\"password\" id=\"password\" name=\"password\" label=\"Password\" />\r\n                    <p><i style={{fontSize:\"11px\",color:\"red\"}}>{checkLogin}</i></p>\r\n                    \r\n                    <Grid container style={{padding:\"5px 0\"}}  \r\n                alignItems=\"center\"\r\n                justify=\"flex-end\">   \r\n                        <Button type=\"submit\" variant=\"contained\" color=\"secondary\"><ArrowForwardRoundedIcon/></Button>\r\n                    </Grid> \r\n                </form> \r\n            </Grid>\r\n            }\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default Login;"],"sourceRoot":""}