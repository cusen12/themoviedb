(this.webpackJsonpthemoviedb=this.webpackJsonpthemoviedb||[]).push([[6],{194:function(e,t,n){},220:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n.n(c),r=n(12),s=n(6),i=n(171),o=n(153),d=n(176),l=n(154),j=n(221),u=n(0),b=n(58),h=n(76),p=n(195),f=n.n(p),O=n(77),x=n(196),m=n.n(x),y=n(197),v=n.n(y),g=n(32),w=(n(194),n(1));t.default=function(){var e=Object(b.b)(),t=Object(u.useState)(!1),n=Object(s.a)(t,2),c=n[0],p=n[1],x=Object(b.c)((function(e){return e.login.value})),y=Object(u.useState)(!0),k=Object(s.a)(y,2),S=k[0],_=k[1],C=x?x.request_token:"",z=Object(u.useState)(""),I=Object(s.a)(z,2),P=I[0],W=I[1],q=Object(u.useState)(!0),J=Object(s.a)(q,2),N=J[0],T=J[1],E=function(){var e=Object(r.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/authentication/token/new?api_key=cd58c7bd131cba3c391d62c5fda2ae53");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n.request_token);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(u.useEffect)((function(){!0===c&&function(){var t=Object(r.a)(a.a.mark((function t(){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n={request_token:C},fetch("https://api.themoviedb.org/3/authentication/session/new?api_key=cd58c7bd131cba3c391d62c5fda2ae53",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){e(Object(O.b)(t))})).catch((function(e){console.log("Error:",e)}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[c,C,e]);var L=function(){var t=Object(r.a)(a.a.mark((function t(n){var c,r,s,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),c=n.target.username.value,r=n.target.password.value,t.next=5,E();case 5:s=t.sent,i={username:c,password:r,request_token:s},"https://api.themoviedb.org/3/authentication/token/validate_with_login?api_key=cd58c7bd131cba3c391d62c5fda2ae53",fetch("https://api.themoviedb.org/3/authentication/token/validate_with_login?api_key=cd58c7bd131cba3c391d62c5fda2ae53",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){e(Object(h.b)(t)),!1===t.success?W("Sai t\xean \u0111\u0103ng nh\u1eadp or m\u1eadt kh\u1ea9u"):(W(""),p(!0))})).catch((function(e){console.log("Error:",e)}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),U=function(){var t=Object(r.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(h.c)()),t.next=3,p(!1);case 3:console.log("logout");case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var e=Object(r.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T(!N);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(w.jsx)(i.a,{container:!0,item:!0,className:"login",md:12,children:void 0!==x?Object(w.jsx)(i.a,{item:!0,md:12,children:!0===x.success?Object(w.jsxs)(i.a,{container:!0,alignItems:"center",justify:"flex-end",children:[Object(w.jsx)(f.a,{onClick:D,color:"primary",style:{fontSize:"30px"}}),Object(w.jsxs)(o.a,{style:{width:"200px",padding:"10px",position:"absolute",top:"60px",zIndex:"10"},hidden:N,elevation:0,children:[Object(w.jsx)(d.a,{children:"Sen"}),Object(w.jsx)(d.a,{children:Object(w.jsx)(g.b,{to:"/commingsoon",children:"View Profile"})}),Object(w.jsx)("hr",{style:{display:"block",width:"100%"}}),Object(w.jsx)(d.a,{children:Object(w.jsx)(g.b,{to:"/commingsoon",children:"Watchlist"})}),Object(w.jsx)(d.a,{children:Object(w.jsx)(g.b,{to:"/commingsoon",children:"Rated List"})}),Object(w.jsx)(d.a,{children:Object(w.jsx)(g.b,{to:"/commingsoon",children:"Favorite List"})}),Object(w.jsx)("hr",{style:{display:"block",width:"100%"}}),Object(w.jsx)(d.a,{children:Object(w.jsx)(g.b,{to:"/commingsoon",children:"Create list"})}),Object(w.jsx)("hr",{style:{display:"block",width:"100%"}}),Object(w.jsx)(l.a,{variant:"contained",color:"primary",onClick:U,startIcon:Object(w.jsx)(m.a,{color:"primary",style:{fontSize:"18"}})})]})]}):Object(w.jsxs)(i.a,{children:[Object(w.jsx)(d.a,{variant:"h5",onClick:function(){return _(!S)},children:"\u0110\u0103ng nh\u1eadp"}),Object(w.jsxs)("form",{onSubmit:L,hidden:S,children:[Object(w.jsx)(j.a,{fullWidth:!0,id:"username",name:"username",label:"Username"}),Object(w.jsx)(j.a,{fullWidth:!0,type:"password",id:"password",name:"password",label:"Password"}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{style:{fontSize:"11px",color:"red"},children:P})}),Object(w.jsx)(i.a,{container:!0,style:{padding:"5px 0"},alignItems:"center",justify:"flex-end",children:Object(w.jsx)(l.a,{type:"submit",variant:"contained",color:"secondary",children:Object(w.jsx)(v.a,{})})})]})]})}):Object(w.jsxs)(i.a,{children:[Object(w.jsx)(d.a,{variant:"h5",onClick:function(){return _(!S)},children:"\u0110\u0103ng nh\u1eadp"}),Object(w.jsxs)("form",{onSubmit:L,hidden:S,className:"loginform",children:[Object(w.jsx)(j.a,{fullWidth:!0,id:"username",name:"username",label:"Username"}),Object(w.jsx)(j.a,{fullWidth:!0,type:"password",id:"password",name:"password",label:"Password"}),Object(w.jsx)("p",{children:Object(w.jsx)("i",{style:{fontSize:"11px",color:"red"},children:P})}),Object(w.jsx)(i.a,{container:!0,style:{padding:"5px 0"},alignItems:"center",justify:"flex-end",children:Object(w.jsx)(l.a,{type:"submit",variant:"contained",color:"secondary",children:Object(w.jsx)(v.a,{})})})]})]})})}}}]);
//# sourceMappingURL=6.1a2e2c3d.chunk.js.map